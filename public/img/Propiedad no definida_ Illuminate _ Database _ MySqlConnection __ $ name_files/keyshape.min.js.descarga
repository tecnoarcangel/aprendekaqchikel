window.KeyshapeJS=function(){function t(t){return void 0!==t}function i(t,i){return t&&0==t.indexOf(i)}function n(t){if(!isFinite(t))throw Error("Non-finite value")}function s(i){return i<=14?16:A[i]||(t(M[i])?0|(i.toLowerCase().indexOf("color")==i.length-5?48:0):1)}function r(t){return 0<=t?Math.pow(t,1/3):-Math.pow(-t,1/3)}function e(t){return t<=0?0:255<=t?255:t}function h(t,i){t:{for(var n=t+i[2],s=i[4].length,h=0;h<s;++h)if(n<i[4][h]){n=h;break t}n=s-1}var o;s=i[2];return t=(t-(h=i[4][n-1]-s))/(i[4][n]-s-h),i[6]&&i[6].length>n-1&&(1==(s=i[6][n-1])[0]?t=t<=0?0:1<=t?1:3*(t=function(t,i,n,s){if(0==t)return 0==i?-s/n:0<=(s=(-n+(t=Math.sqrt(n*n-4*i*s)))/(2*i))&&s<=1||0<=(s=(-n-t)/(2*i))&&s<=1?s:0;var e=n/t-i*i/(t*t)/3,h=(n=i*i*i/(t*t*t)/13.5-i*n/(t*t)/3+s/t)*n/4+e*e*e/27;if(i=-i/(3*t),h<=0){if(0==e&&0==n)return-r(s/t);if(t=Math.sqrt(n*n/4-h),s=Math.acos(-n/2/t),n=Math.cos(s/3),s=Math.sqrt(3)*Math.sin(s/3),0<=(e=2*(t=r(t))*n+i)&&e<=1)return e;if(0<=(e=-t*(n+s)+i)&&e<=1)return e;if(0<=(e=t*(s-n)+i)&&e<=1)return e}else{if(0<=(s=(t=r(-n/2+Math.sqrt(h)))+(n=r(-n/2-Math.sqrt(h)))+i)&&s<=1)return s;if(0<=(s=-(t+n)/2+i)&&s<=1)return s}return 0}(3*(h=s[1])-3*(o=s[3])+1,-6*h+3*o,3*h,-t))*(1-t)*(1-t)*s[2]+3*t*t*(1-t)*s[4]+t*t*t:2==s[0]?(s=s[1],t=Math.ceil(t*s)/s):3==s[0]&&(s=s[1],t=Math.floor(t*s)/s)),function(t,i,n,s){if(16==t||32==t)return(n-i)*s+i;if(0==t)return s<.5?i:n;if(48==t){if("number"!=typeof i||"number"!=typeof n)return s<.5?i:n;var r=1-s;return e(r*(i>>16)+s*(n>>16))<<16|e(r*(i>>8&255)+s*(n>>8&255))<<8|e(r*(255&i)+s*(255&n))}if(64==t){0==i.length&&(i=[0]),0==n.length&&(n=[0]);var h=i.length;i.length!=n.length&&(h=i.length*n.length);var o=[];for(t=0;t<h;++t){var a=i[t%i.length],l=(n[t%n.length]-a)*s+a;l<0&&(l=0),o.push(l)}return o}if(96==t){if(i.length!=n.length)return s<.5?i:n;for(h=i.length,o=[],t=0;t<h;t+=2){if(i[t]!==n[t])return s<.5?i:n;for(o[t]=i[t],o[t+1]=[],a=0;a<i[t+1].length;++a)o[t+1].push((n[t+1][a]-i[t+1][a])*s+i[t+1][a])}return o}if(80!=t)return 0;if((h=i.length)!=n.length)return s<.5?i:n;for(o=[],t=0;t<h;){if(i[t]!=n[t]||1==i[t])return s<.5?i:n;var u,f,g;o[t]=i[t],o[t+1]=(n[t+1]-i[t+1])*s+i[t+1],5==i[t]&&(o[t+2]=(n[t+2]-i[t+2])*s+i[t+2],o[t+3]=(n[t+3]-i[t+3])*s+i[t+3],l=(r=1-s)*((u=i[t+4])>>>24)+s*((f=n[t+4])>>>24),g=r*(u>>16&255)+s*(f>>16&255),a=r*(u>>8&255)+s*(f>>8&255),o[t+4]=(e(g)<<16|e(a)<<8|e(r*(255&u)+s*(255&f)))+16777216*(0|e(l)),t+=3),t+=2}return o}(240&i[1],i[5][n-1],i[5][n],t)}function o(){d||(I=(new Date).getTime()+O)}function a(t){if(t||!E){for(var i=!1,n=0;n<_.length;++n)_[n].I(t)&&(i=!0);if(t)for(;0<j.length;)n=(t=j.shift())[0],1==t[1]?(n.onfinish&&(n.onfinish(),i=!0),n.H()):2==t[1]&&n.onloop&&n.onloop();return i}}function l(){o(),a(!0)&&!d?(E=!0,x(l)):E=!1}function u(){E||(E=!0,x(l))}function f(t,i){var n=[];return t.split(i).forEach((function(t){n.push(parseFloat(t))})),n}function g(t){return-1==t.indexOf(",")&&(t=t.replace(" ",",")),f(t,",")}function c(n){if(n._ks||(n._ks={}),!n._ks.transform){for(var s=n._ks.transform=[],r=0;r<=14;++r)s[r]=0;if(s[10]=1,s[11]=1,n=n.getAttribute("transform")){for(r=(n=n.trim().split(") ")).length-2;0<=r;--r)if(i(n[r],"translate(")){for(var e=0;e<r;e++)n.shift();break}i(r=n.shift(),"translate(")&&(r=g(r.substring(10)),s[1]=r[0],s[2]=t(r[1])?r[1]:0,r=n.shift()),i(r,"rotate(")&&(r=g(r.substring(7)),s[6]=r[0],r=n.shift()),i(r,"skewX(")&&(r=g(r.substring(6)),s[7]=r[0],r=n.shift()),i(r,"skewY(")&&(r=g(r.substring(6)),s[8]=r[0],r=n.shift()),i(r,"scale(")&&(r=g(r.substring(6)),s[10]=r[0],s[11]=t(r[1])?r[1]:0,r=n.shift()),i(r,"translate(")&&(r=g(r.substring(10)),s[13]=r[0],s[14]=t(r[1])?r[1]:0)}}}function p(t){this.D=t,this.B=[],this.w=[],this.s=0,this.o=this.a=this.c=null,this.h=this.f=this.g=0,this.b=1,this.i=this.C=this.m=!1}function m(t,i,n){return void 0===(i=t[i])&&(i=t[n]),i}function v(t){return!1===t.i&&(_.push(t),!(t.i=!0)!==t.D.autoplay&&t.play()),this}function b(t){var i;return!0===t.i&&(t._cancel(),-1<(i=_.indexOf(t))&&_.splice(i,1),-1<(i=j.indexOf(t))&&j.splice(i,1),t.i=!1),this}var d,w=Error("Not in timeline list"),y="mpath posX posY    rotate skewX skewY  scaleX scaleY  anchorX anchorY".split(" "),k=" translate translate    rotate skewX skewY  scale scale  translate translate".split(" "),F="none url blur brightness contrast drop-shadow grayscale hue-rotate invert opacity saturate sepia".split(" "),x=(x=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null)||function(t){window.setTimeout(t,16)},A={d:97,fill:48,fillOpacity:16,filter:80,height:33,opacity:16,offsetDistance:33,stroke:48,strokeDasharray:64,strokeDashoffset:32,strokeOpacity:16,strokeWidth:32,transform:1,width:33},M=window.getComputedStyle(document.documentElement),E=!1,I=(new Date).getTime(),O=0,_=[],j=[];return p.prototype={v:function(t){var i,n=0;return null!==this.c&&(i=this.j(),0<this.b&&null!==i&&i>=this.f?this.h?(this.c=I-this.g/this.b,this.h--,n=2):(n=1,this.a=t?i:this.o?Math.max(this.o,this.f):this.f):this.b<0&&null!==i&&i<=this.g?this.h&&1/0!=this.f?(this.c=I-this.f/this.b,this.h--,n=2):(this.h=0,n=1,this.a=t?i:this.o?Math.min(this.o,this.g):this.g):null!==i&&0!=this.b&&(t&&null!==this.a&&(this.c=I-this.a/this.b),this.a=null)),this.o=this.j(),n},I:function(t){if(t&&(this.m&&(this.m=!1,null===this.c&&(0!=this.b&&null!==this.a?(this.c=I-this.a/this.b,this.a=null):this.c=I)),null===this.a&&null!==this.c&&0!=(t=this.v(!1))&&j.push([this,t])),null===(t=this.j()))return!1;for(var i=this.B,n=this.w,s=0;s<i.length;++s){for(var r=i[s],e=!1,o=0;o<n[s].length;++o){var a,l,u,f=n[s][o],g=f[0];null!==g&&(u=f[2],a=f[4].length,u=0==(l=f[4][a-1]-u)?f[5][a-1]:t<=u?f[5][0]:t>=u+f[3]?0==f[3]%l?f[5][a-1]:h(f[3]%l,f):h((t-u)%l,f),0==g?(r._ks.mpath=f[8],r._ks.transform[g]=u,e=!0):g<=14?(r._ks.transform[g]=u,e=!0):(u=function(t,i){if(48==t&&"number"==typeof i)return"#"+("000000"+i.toString(16)).substr(-6);if(64==t)return(i=i.map((function(t){return t+"px"}))).join(",");if(96==t){t="";for(var n=i.length,s=0;s<n;s+=2)t+=i[s],t+=i[s+1].join(",");return t}if(80!=t)return 32==t?i+"px":i;if(0==i[0])return"none";for(t="",n=i.length,s=0;s<n;)t+=F[i[s]],1==i[s]?t+="("+i[s+1]+") ":5==i[s]?(t+="("+i[s+1]+"px "+i[s+2]+"px "+i[s+3]+"px rgba("+(i[s+4]>>>24)+","+(i[s+4]>>16&255)+","+(i[s+4]>>8&255)+","+(255&i[s+4])/255+")) ",s+=3):t=2==i[s]?t+"("+i[s+1]+"px) ":7==i[s]?t+"("+i[s+1]+"deg) ":t+"("+(i[s+1]<0?0:i[s+1])+") ",s+=2;return t}(240&f[1],u),1&f[1]?r.setAttribute(g,u):r.style[g]=u))}if(e){for(c(r),e=r._ks.transform,o="",(f=r._ks.mpath)&&((u=e[0])<0&&(u=0),100<u&&(u=100),u=u*f[2]/100,o="translate("+(g=f[1].getPointAtLength(u)).x+","+g.y+") ",f[0]&&(u<.5?(u=g,g=f[1].getPointAtLength(.5)):u=f[1].getPointAtLength(u-.5),o+="rotate("+180*Math.atan2(g.y-u.y,g.x-u.x)/Math.PI+") ")),f=1;f<e.length;++f)(g=e[f])!=(10==f||11==f?1:0)&&(o+=" "+k[f]+"(",o=f<=2?o+(1==f?g+",0":"0,"+g):13<=f?o+(13==f?g+",0":"0,"+g):10<=f?o+(10==f?g+",1":"1,"+g):o+g,o+=")");r.setAttribute("transform",o)}}return"running"==this.l()},H:function(){!1!==this.D.autoremove&&"finished"==this.l()&&b(this)},A:function(){if(!this.C){this.C=!0;for(var t=this.B,i=this.w,n=0;n<t.length;++n)for(var s=t[n],r=0;r<i[n].length;++r)i[n][r][0]<=14&&c(s)}},play:function(i){if(t(i)&&null!==i&&(n(i),this.b<0&&i<this.g&&(i=this.g),0<this.b&&i>this.f&&(i=this.f),this.u(i,!0)),!this.i)throw w;if(i=this.j(),0<this.b&&(null===i||i>=this.f))this.a=this.g;else if(this.b<0&&(null===i||i<=this.g)){if(1/0==this.f)throw Error("Cannot seek to Infinity");this.a=this.f}else 0==this.b&&null===i&&(this.a=this.g);return null===this.a||(this.c=null,this.m=!0,this.A(),u()),this},pause:function(i){if(!this.i)throw w;if(t(i)&&n(i),"paused"!=this.l()){o();var s=this.j();if(null===s)if(0<=this.b)this.a=this.g;else{if(1/0==this.f)throw Error("Cannot seek to Infinity");this.a=this.f}null!==this.c&&null===this.a&&(this.a=s),this.c=null,this.m=!1,this.v(!1),this.A(),u()}return t(i)&&this.u(i,!0),this},range:function(i,s){if(0==arguments.length)return{in:this.g,out:this.f};var r=+i,e=this.s;if(t(s)&&(e=+s),n(r),r<0||e<0||e<=r||isNaN(e))throw Error("Invalid range");var h=this.l();return this.g=r,this.f=e,"finished"==h&&"running"==this.l()&&this.play(),this},loop:function(i){return t(i)?(this.h=!0===i?1/0:Math.floor(i),(this.h<0||isNaN(this.h))&&(this.h=0),this):{count:this.h}},j:function(){return null!==this.a?this.a:null===this.c?null:(I-this.c)*this.b},u:function(t,i){i&&o(),null!==t&&(this.A(),null!==this.a||null===this.c||0==this.b?(this.a=t,a(!1)):this.c=I-t/this.b,this.i||(this.c=null),this.o=null,this.v(!0),u())},F:function(){return this.j()},time:function(i){if(t(i)){if(!this.i)throw w;return n(i),this.u(i,!0),this}return this.F()},l:function(){var t=this.j();return this.m?"running":null===t?"idle":null===this.c?"paused":0<this.b&&t>=this.f||this.b<0&&t<=this.g?"finished":"running"},state:function(){return this.l()},duration:function(){return this.s},G:function(t){n(t),o();var i=this.j();this.b=t,null!==i&&this.u(i,!1)},rate:function(i){return t(i)?(this.G(i),this):this.b},_cancel:function(){return this.i&&"idle"!=this.l()&&(this.c=this.a=null,this.m=!1),this}},{version:"1.0.0",animate:function(){var r={};if(1==arguments.length%2){var e={};for(a in r=arguments[arguments.length-1])e[a]=r[a];r=e}for(var h,o,a=new p(r),l=(r=arguments,e=0);l<r.length-1;l+=2){var u=r[l],g=u instanceof Element?u:document.getElementById(u.substring(1));if(!g)throw Error("Invalid target: "+u);u=g,g=r[l+1],u._ks||(u._ks={});for(var c=[],b=0;b<g.length;++b){var d=g[b],w=m(d,"p","property");if("string"!=typeof w||-1!=w.indexOf("-")||""===w||!(0<A[w]||0<=y.indexOf(w)))throw Error("Invalid property: "+w);var k=y.indexOf(w);""!==w&&0<=k&&(w=k),k=s(w);var x=m(d,"t","times");if(!x||x.length<2)throw Error("Not enough times");if(x=x.slice(),!isFinite(x[0])||x[0]<0)throw Error("Invalid time: "+x[0]);for(var M=1;M<x.length;++M)if(!isFinite(x[M])||x[M]<0||x[M]<x[M-1])throw Error("Invalid time: "+x[M]);M=x[0];var E=x[x.length-1]-M,I=d.iterations||0;I<1&&(I=1),e<(E*=I)+M&&(e=E+M);var O=m(d,"v","values");if(!O||O.length!=x.length)throw Error("Values do not match times");for(var _=w,j=O=O.slice(),q=240&s(_),D=0;D<j.length;++D)if(96==q){for(var N=j[D].substring(6,j[D].length-2).match(/[A-DF-Za-df-z][-+0-9eE., ]*/gi),C=[],P=0;P<N.length;++P){C.push(N[P][0]);for(var X=1<N[P].trim().length?N[P].substring(1).split(","):[],Y=0;Y<X.length;++Y)X[Y]=parseFloat(X[Y]);C.push(X)}j[D]=C}else if(48==q)i(j[D],"#")?j[D]=parseInt(j[D].substring(1),16):i(j[D],"url(")||"none"==j[D]||(console.warn("unsupported color: "+j[D]),j[D]=0);else if(80==q){if("none"==(P=(N=j)[C=D]))P=[0];else{X=[];for(var B=P.indexOf("(");0<B&&0<=(Y=F.indexOf(P.substring(0,B)));){X.push(Y);var L=P.indexOf(") ");L<0&&(L=P.length-1),B=P.substring(B+1,L).split(" "),5==Y?(X.push(parseFloat(B[0])),X.push(parseFloat(B[1])),X.push(parseFloat(B[2])),X.push(i(o=(o=B[3]).trim(),"#")?255+(parseInt(o.substring(1),16)<<8):i(o,"rgba(")?(o=(o=o.substring(5,o.length-1)).split(","),(parseInt(o[0],10)<<24)+(parseInt(o[1],10)<<16)+(parseInt(o[2],10)<<8)+255*parseFloat(o[3])<<0):o)):1==Y?X.push(B[0]):X.push(parseFloat(B[0])),B=(P=P.substring(L+1).trim()).indexOf("(")}P=X}N[C]=P}else 64==q?"none"!=j[D]?/^[0-9 .]*$/.test(j[D])?j[D]=f(j[D]," "):(console.warn("unsupported value: "+j[D]),j[D]=[0]):j[D]=[0]:32==q?(n(j[D]),j[D]=parseFloat(j[D])):0===_&&(j[D]=parseFloat(j[D]));for(_=m(d,"e","easing"),j=x.length,_=_||[];_.length<j;)_.push([1,0,0,.58,1]);for(j=0;j<_.length;++j)_[j]=(h=_[j],Array.isArray(h)?h:i(h,"cubic-bezier(")?(h=h.substring(13,h.length-1).split(","),[1,parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3])]):i(h,"steps(")?[(h=h.substring(6,h.length-1).split(","))[1]&&"start"==h[1].trim()?2:3,parseFloat(h[0])]:[0]);k=[w,k,M,E,x,O,_,I],t(x=m(d,"mp","motionPath"))&&0===w&&(k[8]=[],k[8][0]=d.motionRotate,x=x||"M0,0",(d=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",x),k[8][1]=d,k[8][2]=d.getTotalLength()),c.push(k)}0<c.length&&(a.B.push(u),a.w.push(c))}return a.s=e,a.g=0,a.f=a.s,v(a),a},add:v,remove:b,removeAll:function(){for(var t=_.length-1;0<=t;--t)b(_[t]);return this},timelines:function(){return _.slice()},globalPlay:function(){return d&&(O=d-(new Date).getTime(),d=void 0,u()),this},globalPause:function(){return d||(d=I,a(!1)),this},globalState:function(){return d?"paused":"running"}}}();
